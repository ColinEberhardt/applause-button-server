service: applause-button

provider:
  name: aws
  runtime: nodejs8.10
  iamRoleStatements:
    - Effect: Allow
      Action:
        - dynamodb:GetItem
        - dynamodb:PutItem
        - dynamodb:UpdateItem
        - dynamodb:BatchGetItem
      Resource: "arn:aws:dynamodb:${opt:region, self:provider.region}:*:table/Applause"
      
functions:
  update-claps:
    handler: src/updateClaps.fn
    events:
      - http:
          path: update-claps
          method: post
          cors: true
  get-claps:
    handler: src/getClaps.fn
    events:
      - http:
          path: get-claps
          method: get
          cors: true
  get-multiple:
    handler: src/getMultiple.fn
    events:
      - http:
          path: get-multiple
          method: post
          cors: true
